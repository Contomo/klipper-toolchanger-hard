
# This is an example tool template. exact values of course need to be adjusted.
# Why ğŸŸ¨? why â¬œï¸?
# they serve as keys:
# â¬œï¸ -> search and replace with toolnumber
# ğŸŸ¨ -> same, but exception for T0 (if t0, search and replace with nothing)


#â”€â”€â”€< Toolchanger specific! ---------------------------------------------

[gcode_macro Tâ¬œï¸]
variable_active: 0
variable_color: ""
variable_tool_number: â¬œï¸
gcode:
   SELECT_TOOL T={tool_number} {rawparams}

[tool Tâ¬œï¸]
tool_number: â¬œï¸
detection_pin: ^!etâ¬œï¸:PB6
extruder: extruderğŸŸ¨
fan: Tâ¬œï¸_partfan
# parking position
params_park_x:
params_park_y:
params_park_z:

[tool_probe Tâ¬œï¸]
pin: ^etâ¬œï¸:PB6
tool: â¬œï¸
z_offset: -1.0 # negative
speed: 5.0
samples: 3
samples_result: median
sample_retract_dist: 2.0
samples_tolerance: 0.02
samples_tolerance_retries: 3
activate_gcode:
    _TAP_PROBE_ACTIVATE HEATER=extruderğŸŸ¨ TEMP=150

#==========================================================================
# anything below this point is likely custom to your own config.
#==========================================================================

[mcu etâ¬œï¸]
canbus_uuid: 9422cd1b01cb

#â”€â”€â”€< Extruder ---------------------------------------------------------
[tmc2209 extruderğŸŸ¨]
uart_pin: etâ¬œï¸: PA15
run_current: 0.600
stealthchop_threshold: 999999

[extruder]
step_pin: etâ¬œï¸: PD0
dir_pin: etâ¬œï¸: PD1
enable_pin: !etâ¬œï¸: PD2
microsteps: 32
full_steps_per_rotation: 200
rotation_distance: 5.6
max_extrude_only_distance: 1400.0
max_extrude_only_velocity: 75.0
max_extrude_only_accel: 1500
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: etâ¬œï¸: PB13
sensor_type: Generic 3950
sensor_pin: etâ¬œï¸: PA3
control: pid
pid_Kp=30
pid_Ki=19.795
pid_Kd=20

min_temp: 0
max_temp: 300
max_extrude_cross_section: 0.64

#â”€â”€â”€< Fans ---------------------------------------------------------
[fan_generic Tâ¬œï¸_partfan]
pin: etâ¬œï¸:PA1

[heater_fan Tâ¬œï¸_hotend_fan]
pin: etâ¬œï¸:PA0
heater: extruderğŸŸ¨
heater_temp: 65.0

#â”€â”€â”€< accel --------------------------------------------------------
[adxl345 Tâ¬œï¸]
cs_pin: etâ¬œï¸: PB12
spi_software_sclk_pin: etâ¬œï¸: PB10
spi_software_mosi_pin: etâ¬œï¸: PB11
spi_software_miso_pin: etâ¬œï¸: PB2
axes_map: x,y,z

[tool Tâ¬œï¸]
params_accelerometer: 'adxl345 â¬œï¸0'

#â”€â”€â”€â”€\/â”€â”€â”€â”€(optional)â”€â”€â”€â”€â”€â”€â”€â”€â”€< LEDs >â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€(optional)â”€â”€â”€â”€\/â”€â”€â”€â”€
[neopixel Tâ¬œï¸_leds]
pin: etâ¬œï¸:PD3
chain_count: 3
color_order: GRB
initial_RED: 0.0
initial_GREEN: 0.0
initial_BLUE: 0.0
initial_WHITE: 0.0

[gcode_macro _Tâ¬œï¸_vars]
variable_logo_led_name:         "Tâ¬œï¸_leds"
variable_logo_idx:              "1"
variable_logo_brightness:       "1"
variable_nozzle_led_name:       "Tâ¬œï¸_leds"
variable_nozzle_idx:            "2,3"
variable_nozzle_brightness:     "1,1" # add it or leave it, defaults to 1.0 anyways.
gcode:
